
flash 16M {
    pebsize = 65536      /* 64K erase block size */
    lebsize = 65536
    numpebs = 256        /* 256 * 64K = 16MB */
    minimum-io-unit-size = 1
    vid-header-offset = 0
    sub-page-size = 1
}

image flash.img {
    flash {
        flashtype = "16M"
    }

    partition u-boot {
        image = "u-boot.bin"
        offset = 0x0
        size = 0x80000      /* 512 KB */
    }

    partition env {
        offset = 0x80000    /* 512 KB */
        size = 0x20000      /* 128 KB */
        fill = true         
    }
    
    partition kernel {
        image = "kernel.bin"
        offset = 0xa0000    /* 640 KB */
        size = 0x400000     /* 4 MB */
    }
    
    partition rootfs {
        image = "rootfs.squashfs"
        offset = 0x4a0000   /* 4.625 MB */
        size = 0x800000     /* 8 MB */
    }
    
    partition userdata {
        offset = 0xca0000   /* 12.625 MB */
        size = 0x360000     /* 3.375 MB */
        fill = true         
    }
}